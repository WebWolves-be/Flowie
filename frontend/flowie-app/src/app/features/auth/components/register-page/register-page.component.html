<div class="min-h-screen bg-gray-100 flex items-center justify-center">
  <div class="w-[25rem] bg-white rounded-xl shadow-xl p-6" role="dialog" aria-modal="true">
    <h1 class="text-2xl font-semibold text-gray-900 mb-6 text-center">Flowie</h1>

    @if (errorMessage()) {
      <div class="mb-4 bg-red-50 border border-red-200 rounded-lg p-3 text-sm text-red-800">
        <svg class="inline w-4 h-4 mr-2" fill="currentColor" viewBox="0 0 20 20">
          <path fill-rule="evenodd"
                d="M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z"
                clip-rule="evenodd" />
        </svg>
        {{ errorMessage() }}
      </div>
    }

    <form [formGroup]="registerForm" class="space-y-4" (ngSubmit)="onSubmit()">
      <div>
        <label for="firstName" class="block text-sm font-medium text-gray-700 mb-2">
          Voornaam <span class="text-red-600">*</span>
        </label>
        <input id="firstName" type="text" formControlName="firstName"
               class="w-full rounded-lg px-3 py-2 text-sm focus:outline-none focus:ring-2"
               [class.border-2]="firstName?.invalid && firstName?.touched"
               [class.border-red-500]="firstName?.invalid && firstName?.touched"
               [class.focus:ring-red-500]="firstName?.invalid && firstName?.touched"
               [class.focus:border-red-500]="firstName?.invalid && firstName?.touched"
               [class.border]="!(firstName?.invalid && firstName?.touched)"
               [class.border-gray-300]="!(firstName?.invalid && firstName?.touched)"
               [class.focus:ring-blue-500]="!(firstName?.invalid && firstName?.touched)"
               [class.focus:border-blue-500]="!(firstName?.invalid && firstName?.touched)"
               placeholder="Jan" />
      </div>

      <div>
        <label for="lastName" class="block text-sm font-medium text-gray-700 mb-2">
          Achternaam <span class="text-red-600">*</span>
        </label>
        <input id="lastName" type="text" formControlName="lastName"
               class="w-full rounded-lg px-3 py-2 text-sm focus:outline-none focus:ring-2"
               [class.border-2]="lastName?.invalid && lastName?.touched"
               [class.border-red-500]="lastName?.invalid && lastName?.touched"
               [class.focus:ring-red-500]="lastName?.invalid && lastName?.touched"
               [class.focus:border-red-500]="lastName?.invalid && lastName?.touched"
               [class.border]="!(lastName?.invalid && lastName?.touched)"
               [class.border-gray-300]="!(lastName?.invalid && lastName?.touched)"
               [class.focus:ring-blue-500]="!(lastName?.invalid && lastName?.touched)"
               [class.focus:border-blue-500]="!(lastName?.invalid && lastName?.touched)"
               placeholder="Janssens" />
      </div>

      <div>
        <label for="email" class="block text-sm font-medium text-gray-700 mb-2">
          E-mail <span class="text-red-600">*</span>
        </label>
        <input id="email" type="email" formControlName="email"
               class="w-full rounded-lg px-3 py-2 text-sm focus:outline-none focus:ring-2"
               [class.border-2]="email?.invalid && email?.touched"
               [class.border-red-500]="email?.invalid && email?.touched"
               [class.focus:ring-red-500]="email?.invalid && email?.touched"
               [class.focus:border-red-500]="email?.invalid && email?.touched"
               [class.border]="!(email?.invalid && email?.touched)"
               [class.border-gray-300]="!(email?.invalid && email?.touched)"
               [class.focus:ring-blue-500]="!(email?.invalid && email?.touched)"
               [class.focus:border-blue-500]="!(email?.invalid && email?.touched)"
               placeholder="jan.janssens@voorbeeld.be" />
      </div>

      <div>
        <label for="password" class="block text-sm font-medium text-gray-700 mb-2">
          Wachtwoord <span class="text-red-600">*</span>
        </label>
        <input id="password" type="password" formControlName="password"
               class="w-full rounded-lg px-3 py-2 text-sm focus:outline-none focus:ring-2"
               [class.border-2]="password?.invalid && password?.touched"
               [class.border-red-500]="password?.invalid && password?.touched"
               [class.focus:ring-red-500]="password?.invalid && password?.touched"
               [class.focus:border-red-500]="password?.invalid && password?.touched"
               [class.border]="!(password?.invalid && password?.touched)"
               [class.border-gray-300]="!(password?.invalid && password?.touched)"
               [class.focus:ring-blue-500]="!(password?.invalid && password?.touched)"
               [class.focus:border-blue-500]="!(password?.invalid && password?.touched)"
               placeholder="Min. 6 tekens, cijfer, hoofd- en kleine letter" />
      </div>

      <div>
        <label for="registrationCode" class="block text-sm font-medium text-gray-700 mb-2">
          Registratiecode <span class="text-red-600">*</span>
        </label>
        <input id="registrationCode" type="text" formControlName="registrationCode"
               class="w-full rounded-lg px-3 py-2 text-sm focus:outline-none focus:ring-2"
               [class.border-2]="registrationCode?.invalid && registrationCode?.touched"
               [class.border-red-500]="registrationCode?.invalid && registrationCode?.touched"
               [class.focus:ring-red-500]="registrationCode?.invalid && registrationCode?.touched"
               [class.focus:border-red-500]="registrationCode?.invalid && registrationCode?.touched"
               [class.border]="!(registrationCode?.invalid && registrationCode?.touched)"
               [class.border-gray-300]="!(registrationCode?.invalid && registrationCode?.touched)"
               [class.focus:ring-blue-500]="!(registrationCode?.invalid && registrationCode?.touched)"
               [class.focus:border-blue-500]="!(registrationCode?.invalid && registrationCode?.touched)"
               placeholder="4-cijferige code"
               maxlength="4" />
      </div>

      <div class="pt-2">
        <button type="submit"
                class="w-full px-4 py-2 text-sm rounded-lg bg-blue-600 text-white hover:bg-blue-500 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center"
                [disabled]="registerForm.invalid || isLoading()">
          @if (isLoading()) {
            <svg class="animate-spin h-5 w-5 text-white" xmlns="http://www.w3.org/2000/svg" fill="none"
                 viewBox="0 0 24 24">
              <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>
              <path class="opacity-75" fill="currentColor"
                    d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path>
            </svg>
          } @else {
            Registreren
          }
        </button>
      </div>

      <div class="text-center text-sm text-gray-600 pt-2">
        Heb je al een account?
        <a routerLink="/login" class="text-blue-600 hover:text-blue-500 font-medium">
          Inloggen
        </a>
      </div>
    </form>
  </div>
</div>
